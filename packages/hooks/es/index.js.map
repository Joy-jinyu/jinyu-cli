{"version":3,"file":"index.js","sources":["../src/useCallbackRef/index.ts"],"sourcesContent":["import { useCallback, useLayoutEffect, useRef } from 'react'\n\n/**\n * 保证callback内的引用一直存在\n */\nexport const useCallbackRef = <T extends (...args: any[]) => unknown>(fn: T | undefined): T => {\n  const ref = useRef(fn)\n\n  useLayoutEffect(() => {\n    ref.current = fn\n  })\n\n  return useCallback(((...args) => ref.current?.(...args)) as T, [])\n}\n"],"names":["useCallbackRef","fn","ref","useRef","useLayoutEffect","current","useCallback","_ref$current","_len","arguments","length","args","Array","_key","call","apply","concat"],"mappings":"yEAKaA,EAAiB,SAAwCC,GACpE,IAAMC,EAAMC,EAAOF,GAMnB,OAJAG,GAAgB,WACdF,EAAIG,QAAUJ,CAChB,IAEOK,GAAa,WAAA,IAAA,IAAAC,EAAAC,EAAAC,UAAAC,OAAIC,EAAIC,IAAAA,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAJF,EAAIE,GAAAJ,UAAAI,GAAA,OAAgBN,QAAhBA,EAAKL,EAAIG,mBAAOE,SAAXA,EAAAO,KAAAC,MAAAR,EAAA,CAAAL,GAAGc,OAAcL,GAAK,GAAQ,GACjE"}